<!DOCTYPE html>
<html lang="en">
    <head>
        <title>CS4241 Assignment 2</title>
        <meta charset="utf-8" />
    </head>

    <body>
        <form action="">
            <fieldset>
                TV show name<input
                    type="text"
                    id="show"
                    value="My TV show"
                /><br />
                Number of seasons<input
                    type="number"
                    id="seasons"
                    value="4"
                /><br />
                Episodes per season<input
                    type="number"
                    id="eps"
                    value="13"
                /><br />
                Duration of an episode (in minutes)<input
                    type="number"
                    id="duration"
                    value="45"
                /><br />
                <!-- Derived attribute: Total episodes and/or total time to watch the whole show -->
                <button>Submit</button>
            </fieldset>
        </form>
        <div id="results"></div>
    </body>

    <script>
        const submit = function (e) {
            // prevent default form action from being carried out
            e.preventDefault();

            const show = document.querySelector("#show"),
                seasons = document.querySelector("#seasons"),
                eps = document.querySelector("#eps"),
                duration = document.querySelector("#duration");

            const json = {
                show: show.value,
                seasons: seasons.value,
                eps: eps.value,
                duration: duration.value,
            };
            const body = JSON.stringify(json);

            fetch("/submit", {
                method: "POST",
                body,
            }).then(function (response) {
                // do something with the reponse
                console.log(response);
            });

            return false;
        };

        window.onload = function () {
            const button = document.querySelector("button");
            button.onclick = submit;
        };
    </script>
</html>